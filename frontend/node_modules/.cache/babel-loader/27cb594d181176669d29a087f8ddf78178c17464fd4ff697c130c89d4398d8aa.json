{"ast":null,"code":"import React,{useEffect,useMemo,useRef,useState}from\"react\";import api from\"../lib/api\";import{useConfirm}from\"./ConfirmDialog\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminUserList(_ref){let{onSelect,refreshKey=0,onDeleted}=_ref;const confirm=useConfirm===null||useConfirm===void 0?void 0:useConfirm();const[users,setUsers]=useState([]);const[loading,setLoading]=useState(true);const[selectedIds,setSelectedIds]=useState([]);const[q,setQ]=useState(\"\");const[searchText,setSearchText]=useState(\"\");const[page,setPage]=useState(1);const[limit]=useState(10);const[totalPages,setTotalPages]=useState(1);const[total,setTotal]=useState(0);const[autoFocusOnExact,setAutoFocusOnExact]=useState(false);const allNonAdmins=useMemo(()=>users.filter(u=>u.role!=='admin').map(u=>u._id),[users]);const exactLC=useMemo(()=>(q||'').trim().toLowerCase(),[q]);const itemRefs=useRef({});useEffect(()=>{let cancelled=false;(async()=>{try{setLoading(true);const res=await api.get('/users',{params:{q:q||undefined,page,limit}});const payload=res.data;if(!cancelled){const list=Array.isArray(payload===null||payload===void 0?void 0:payload.data)?payload.data:Array.isArray(payload)?payload:[];setUsers(list);setTotalPages((payload===null||payload===void 0?void 0:payload.totalPages)||1);setTotal((payload===null||payload===void 0?void 0:payload.total)||list.length);}}catch(e){if(!cancelled)setUsers([]);}finally{if(!cancelled)setLoading(false);}})();return()=>{cancelled=true;};},[refreshKey,q,page,limit]);// Note: Search is triggered only by Enter key or clicking the Tìm button to avoid fetching on every keystroke.\n// Auto-select and scroll exact match into view after search triggers\nuseEffect(()=>{if(!autoFocusOnExact)return;if(!exactLC){setAutoFocusOnExact(false);return;}const target=users.find(u=>u.name&&String(u.name).toLowerCase()===exactLC||u.email&&String(u.email).toLowerCase()===exactLC);if(target){onSelect===null||onSelect===void 0?void 0:onSelect(target);const el=itemRefs.current[target._id];if(el&&el.scrollIntoView){el.scrollIntoView({behavior:'smooth',block:'center'});}}setAutoFocusOnExact(false);},[autoFocusOnExact,users,exactLC,onSelect]);if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card__body\",children:\"\\u0110ang t\\u1EA3i...\"})});return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card__header\",children:\"Danh s\\xE1ch t\\xE0i kho\\u1EA3n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{marginBottom:10,gap:8},children:[/*#__PURE__*/_jsx(\"input\",{value:searchText,onChange:e=>setSearchText(e.target.value),onKeyDown:e=>{if(e.key==='Enter'){setPage(1);setAutoFocusOnExact(true);setQ(searchText);}},type:\"text\",className:\"input\",placeholder:\"T\\xECm theo t\\xEAn ho\\u1EB7c email...\",style:{flex:1}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button button--ghost\",onClick:()=>{setPage(1);setAutoFocusOnExact(true);setQ(searchText);},children:\"T\\xECm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{justifyContent:'space-between',alignItems:'center',marginBottom:8,gap:8},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{style:{display:'inline-flex',alignItems:'center',gap:8},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:allNonAdmins.length>0&&selectedIds.length===allNonAdmins.length,onChange:e=>{if(e.target.checked)setSelectedIds(allNonAdmins);else setSelectedIds([]);}}),/*#__PURE__*/_jsx(\"span\",{children:\"Ch\\u1ECDn t\\u1EA5t c\\u1EA3 (kh\\xF4ng g\\u1ED3m admin)\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button button--danger\",disabled:selectedIds.length===0,onClick:async()=>{if(selectedIds.length===0)return;const ok=await(confirm?confirm(\"X\\xF3a \".concat(selectedIds.length,\" t\\xE0i kho\\u1EA3n \\u0111\\xE3 ch\\u1ECDn? H\\xE0nh \\u0111\\u1ED9ng n\\xE0y kh\\xF4ng th\\u1EC3 ho\\xE0n t\\xE1c.\")):Promise.resolve(window.confirm(\"X\\xF3a \".concat(selectedIds.length,\" t\\xE0i kho\\u1EA3n \\u0111\\xE3 ch\\u1ECDn? H\\xE0nh \\u0111\\u1ED9ng n\\xE0y kh\\xF4ng th\\u1EC3 ho\\xE0n t\\xE1c.\"))));if(!ok)return;try{const res=await api.post('/users/batch-delete',{ids:selectedIds});// Refresh list and inform parent\nsetSelectedIds([]);onDeleted===null||onDeleted===void 0?void 0:onDeleted(res.data);}catch(e){var _e$response,_e$response$data;alert((e===null||e===void 0?void 0:(_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:_e$response$data.message)||'Xóa thất bại');}},children:\"X\\xF3a \\u0111\\xE3 ch\\u1ECDn\"})})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list\",children:users.map(u=>{const isExact=!!exactLC&&(u.name&&String(u.name).toLowerCase()===exactLC||u.email&&String(u.email).toLowerCase()===exactLC);return/*#__PURE__*/_jsxs(\"li\",{ref:el=>{if(el)itemRefs.current[u._id]=el;},className:\"item\".concat(isExact?' item--highlight':''),style:{display:'grid',gridTemplateColumns:'auto auto 1fr',alignItems:'center',gap:10},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",disabled:u.role==='admin',checked:selectedIds.includes(u._id),onChange:e=>{setSelectedIds(prev=>{const set=new Set(prev);if(e.target.checked)set.add(u._id);else set.delete(u._id);return Array.from(set);});}}),/*#__PURE__*/_jsx(\"div\",{style:{width:28,height:28,borderRadius:6,overflow:'hidden',background:'#1b2230',display:'flex',alignItems:'center',justifyContent:'center'},children:u.avatarUrl?/*#__PURE__*/_jsx(\"img\",{src:u.avatarUrl,alt:\"avatar\",style:{width:'100%',height:'100%',objectFit:'cover'}}):/*#__PURE__*/_jsx(\"span\",{style:{fontSize:12,fontWeight:700},children:String(u.name||u.email||'?').charAt(0).toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>onSelect===null||onSelect===void 0?void 0:onSelect(u),style:{cursor:'pointer'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:600,display:'flex',alignItems:'center',gap:8},children:[u.name,isExact&&/*#__PURE__*/_jsx(\"span\",{className:\"chip chip--accent\",children:\"tr\\xF9ng kh\\u1EDBp\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"meta\",children:u.email})]})]},u._id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{justifyContent:'space-between',alignItems:'center',marginTop:10},children:[/*#__PURE__*/_jsx(\"button\",{className:\"button button--ghost\",disabled:page<=1,onClick:()=>setPage(p=>Math.max(1,p-1)),children:\"Trang tr\\u01B0\\u1EDBc\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"meta\",children:[\"Trang \",page,\"/\",totalPages,\" \\u2022 T\\u1ED5ng \",total]}),/*#__PURE__*/_jsx(\"button\",{className:\"button button--ghost\",disabled:page>=totalPages,onClick:()=>setPage(p=>Math.min(totalPages,p+1)),children:\"Trang sau\"})]})]})]});}","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","api","useConfirm","jsx","_jsx","jsxs","_jsxs","AdminUserList","_ref","onSelect","refreshKey","onDeleted","confirm","users","setUsers","loading","setLoading","selectedIds","setSelectedIds","q","setQ","searchText","setSearchText","page","setPage","limit","totalPages","setTotalPages","total","setTotal","autoFocusOnExact","setAutoFocusOnExact","allNonAdmins","filter","u","role","map","_id","exactLC","trim","toLowerCase","itemRefs","cancelled","res","get","params","undefined","payload","data","list","Array","isArray","length","e","target","find","name","String","email","el","current","scrollIntoView","behavior","block","className","children","style","marginBottom","gap","value","onChange","onKeyDown","key","type","placeholder","flex","onClick","justifyContent","alignItems","display","checked","disabled","ok","concat","Promise","resolve","window","post","ids","_e$response","_e$response$data","alert","response","message","isExact","ref","gridTemplateColumns","includes","prev","set","Set","add","delete","from","width","height","borderRadius","overflow","background","avatarUrl","src","alt","objectFit","fontSize","fontWeight","charAt","toUpperCase","cursor","marginTop","p","Math","max","min"],"sources":["D:/New folder/Group2-Project-main/frontend/src/components/AdminUserList.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport api from \"../lib/api\";\nimport { useConfirm } from \"./ConfirmDialog\";\n\nexport default function AdminUserList({ onSelect, refreshKey = 0, onDeleted }) {\n  const confirm = useConfirm?.();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedIds, setSelectedIds] = useState([]);\n  const [q, setQ] = useState(\"\");\n  const [searchText, setSearchText] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [limit] = useState(10);\n  const [totalPages, setTotalPages] = useState(1);\n  const [total, setTotal] = useState(0);\n  const [autoFocusOnExact, setAutoFocusOnExact] = useState(false);\n  const allNonAdmins = useMemo(() => users.filter(u => u.role !== 'admin').map(u => u._id), [users]);\n  const exactLC = useMemo(() => (q || '').trim().toLowerCase(), [q]);\n  const itemRefs = useRef({});\n\n  useEffect(() => {\n    let cancelled = false;\n    (async () => {\n      try {\n        setLoading(true);\n        const res = await api.get('/users', { params: { q: q || undefined, page, limit } });\n        const payload = res.data;\n        if (!cancelled) {\n          const list = Array.isArray(payload?.data) ? payload.data : (Array.isArray(payload) ? payload : []);\n          setUsers(list);\n          setTotalPages(payload?.totalPages || 1);\n          setTotal(payload?.total || list.length);\n        }\n      } catch (e) {\n        if (!cancelled) setUsers([]);\n      } finally {\n        if (!cancelled) setLoading(false);\n      }\n    })();\n    return () => { cancelled = true; };\n  }, [refreshKey, q, page, limit]);\n\n  // Note: Search is triggered only by Enter key or clicking the Tìm button to avoid fetching on every keystroke.\n\n  // Auto-select and scroll exact match into view after search triggers\n  useEffect(() => {\n    if (!autoFocusOnExact) return;\n    if (!exactLC) { setAutoFocusOnExact(false); return; }\n    const target = users.find(u => (\n      (u.name && String(u.name).toLowerCase() === exactLC) ||\n      (u.email && String(u.email).toLowerCase() === exactLC)\n    ));\n    if (target) {\n      onSelect?.(target);\n      const el = itemRefs.current[target._id];\n      if (el && el.scrollIntoView) {\n        el.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      }\n    }\n    setAutoFocusOnExact(false);\n  }, [autoFocusOnExact, users, exactLC, onSelect]);\n\n  if (loading) return <div className=\"card\"><div className=\"card__body\">Đang tải...</div></div>;\n\n  return (\n    <div className=\"card\">\n      <div className=\"card__header\">Danh sách tài khoản</div>\n      <div className=\"card__body\">\n        <div className=\"row\" style={{ marginBottom: 10, gap: 8 }}>\n          <input\n            value={searchText}\n            onChange={(e)=> setSearchText(e.target.value)}\n            onKeyDown={(e) => { if (e.key === 'Enter') { setPage(1); setAutoFocusOnExact(true); setQ(searchText); } }}\n            type=\"text\" className=\"input\" placeholder=\"Tìm theo tên hoặc email...\"\n            style={{ flex: 1 }}\n          />\n          <button type=\"button\" className=\"button button--ghost\" onClick={() => { setPage(1); setAutoFocusOnExact(true); setQ(searchText); }}>Tìm</button>\n        </div>\n        <div className=\"row\" style={{ justifyContent: 'space-between', alignItems: 'center', marginBottom: 8, gap: 8 }}>\n          <div>\n            <label style={{ display: 'inline-flex', alignItems: 'center', gap: 8 }}>\n              <input\n                type=\"checkbox\"\n                checked={allNonAdmins.length > 0 && selectedIds.length === allNonAdmins.length}\n                onChange={(e) => {\n                  if (e.target.checked) setSelectedIds(allNonAdmins);\n                  else setSelectedIds([]);\n                }}\n              />\n              <span>Chọn tất cả (không gồm admin)</span>\n            </label>\n          </div>\n          <div>\n            <button type=\"button\"\n              className=\"button button--danger\"\n              disabled={selectedIds.length === 0}\n              onClick={async () => {\n                if (selectedIds.length === 0) return;\n                const ok = await (confirm ? confirm(`Xóa ${selectedIds.length} tài khoản đã chọn? Hành động này không thể hoàn tác.`) : Promise.resolve(window.confirm(`Xóa ${selectedIds.length} tài khoản đã chọn? Hành động này không thể hoàn tác.`)));\n                if (!ok) return;\n                try {\n                  const res = await api.post('/users/batch-delete', { ids: selectedIds });\n                  // Refresh list and inform parent\n                  setSelectedIds([]);\n                  onDeleted?.(res.data);\n                } catch (e) {\n                  alert(e?.response?.data?.message || 'Xóa thất bại');\n                }\n              }}\n            >Xóa đã chọn</button>\n          </div>\n        </div>\n        <ul className=\"list\">\n          {users.map(u => {\n            const isExact = !!exactLC && (\n              (u.name && String(u.name).toLowerCase() === exactLC) ||\n              (u.email && String(u.email).toLowerCase() === exactLC)\n            );\n            return (\n            <li\n              key={u._id}\n              ref={(el) => { if (el) itemRefs.current[u._id] = el; }}\n              className={`item${isExact ? ' item--highlight' : ''}`}\n              style={{ display: 'grid', gridTemplateColumns: 'auto auto 1fr', alignItems: 'center', gap: 10 }}\n            >\n              <input\n                type=\"checkbox\"\n                disabled={u.role === 'admin'}\n                checked={selectedIds.includes(u._id)}\n                onChange={(e) => {\n                  setSelectedIds((prev) => {\n                    const set = new Set(prev);\n                    if (e.target.checked) set.add(u._id);\n                    else set.delete(u._id);\n                    return Array.from(set);\n                  });\n                }}\n              />\n              <div style={{ width: 28, height: 28, borderRadius: 6, overflow: 'hidden', background: '#1b2230', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                {u.avatarUrl ? (\n                  <img src={u.avatarUrl} alt=\"avatar\" style={{ width: '100%', height: '100%', objectFit: 'cover' }} />\n                ) : (\n                  <span style={{ fontSize: 12, fontWeight: 700 }}>{String(u.name || u.email || '?').charAt(0).toUpperCase()}</span>\n                )}\n              </div>\n              <div onClick={() => onSelect?.(u)} style={{ cursor: 'pointer' }}>\n                <div style={{ fontWeight: 600, display: 'flex', alignItems: 'center', gap: 8 }}>\n                  {u.name}\n                  {isExact && <span className=\"chip chip--accent\">trùng khớp</span>}\n                </div>\n                <div className=\"meta\">{u.email}</div>\n              </div>\n            </li>\n          );})}\n        </ul>\n        <div className=\"row\" style={{ justifyContent: 'space-between', alignItems: 'center', marginTop: 10 }}>\n          <button className=\"button button--ghost\" disabled={page <= 1} onClick={() => setPage(p => Math.max(1, p-1))}>Trang trước</button>\n          <div className=\"meta\">Trang {page}/{totalPages} • Tổng {total}</div>\n          <button className=\"button button--ghost\" disabled={page >= totalPages} onClick={() => setPage(p => Math.min(totalPages, p+1))}>Trang sau</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}